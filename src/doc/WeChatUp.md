# å¾®ä¿¡å°ç¨‹åºç¬”è®°ä¸Š

> å¾®ä¿¡å°ç¨‹åºå­¦ä¹ ç¬”è®°ä¸Š
>
> åˆæ­¥æ¥è§¦å°ç¨‹åº
>
> åŸºç¡€å†…å®¹ä»‹ç»
>
> å¼€å‘è€…æ–‡æ¡£
>
> app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°
>
> WXML æ•°æ®ç»‘å®š
>
> é€šè¿‡ wx.request è¯·æ±‚æ•°æ®
>
> å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“
>
> é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°
>
> True mastery of any skill takes a lifetime.
>
> å¯¹ä»»ä½•æŠ€èƒ½çš„æŒæ¡éƒ½éœ€è¦ä¸€ç”Ÿçš„åˆ»è‹¦æ“ç»ƒã€‚



# å°ç¨‹åºç®€ä»‹

> å°ç¨‹åºæ˜¯ä¸€ç§å…¨æ–°çš„è¿æ¥ç”¨æˆ·ä¸æœåŠ¡çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥åœ¨å¾®ä¿¡å†…è¢«ä¾¿æ·åœ°è·å–å’Œä¼ æ’­ï¼ŒåŒæ—¶å…·æœ‰å‡ºè‰²çš„ä½¿ç”¨ä½“éªŒã€‚
>
> å¾®ä¿¡å°ç¨‹åºä½¿ç”¨äº†å‰ç«¯æŠ€æœ¯æ ˆ JavaScript/WXML/WXSSã€‚

[ç›¸å…³ä»‹ç»](https://developers.weixin.qq.com/miniprogram/dev/quickstart/basic/introduction.html)



**å¾®ä¿¡å°ç¨‹åºä½¿ç”¨äº†å‰ç«¯æŠ€æœ¯æ ˆ JavaScript/WXML/WXSSã€‚ä½†å’Œå¸¸è§„çš„å‰ç«¯å¼€å‘åˆæœ‰ä¸€äº›åŒºåˆ«ï¼š** [å¯ä»¥å‚è€ƒ](https://juejin.im/entry/581db98fa0bb9f0058abffea)

1. **JavaScript**: å¾®ä¿¡å°ç¨‹åºçš„ JavaScript è¿è¡Œç¯å¢ƒå³ä¸æ˜¯ Browser ä¹Ÿä¸æ˜¯ Node.jsã€‚å®ƒè¿è¡Œåœ¨å¾®ä¿¡ App çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸èƒ½æ“ä½œ Browser context ä¸‹çš„ DOMï¼Œä¹Ÿä¸èƒ½é€šè¿‡ N*ode.js ç›¸å…³æ¥å£è®¿é—®æ“ä½œç³»ç»Ÿ APIã€‚æ‰€ä»¥ï¼Œä¸¥æ ¼æ„ä¹‰æ¥è®²ï¼Œå¾®ä¿¡å°ç¨‹åºå¹¶ä¸æ˜¯ Html5ï¼Œè™½ç„¶å¼€å‘è¿‡ç¨‹å’Œç”¨åˆ°çš„æŠ€æœ¯æ ˆå’Œ Html5 æ˜¯ç›¸é€šçš„ã€‚
2. **WXMLï¼š**ä½œä¸ºå¾®ä¿¡å°ç¨‹åºçš„å±•ç¤ºå±‚ï¼Œå¹¶ä¸æ˜¯ä½¿ç”¨ Htmlï¼Œè€Œæ˜¯è‡ªå·±å‘æ˜çš„åŸºäº XML è¯­æ³•çš„æè¿°ã€‚
3. **WXSSï¼š**ç”¨æ¥ä¿®é¥°å±•ç¤ºå±‚çš„æ ·å¼ã€‚å®˜æ–¹çš„æè¿°æ˜¯ â€œ WXSS (WeiXin Style Sheets) æ˜¯ä¸€å¥—æ ·å¼è¯­è¨€ï¼Œç”¨äºæè¿° WXML çš„ç»„ä»¶æ ·å¼ã€‚WXSS ç”¨æ¥å†³å®š WXML çš„ç»„ä»¶åº”è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚â€ â€œæˆ‘ä»¬çš„ WXSS å…·æœ‰ CSS å¤§éƒ¨åˆ†ç‰¹æ€§...æˆ‘ä»¬å¯¹ CSS è¿›è¡Œäº†æ‰©å……ä»¥åŠä¿®æ”¹ã€‚â€åŸºäº CSS2 è¿˜æ˜¯ CSS3ï¼Ÿå¤§éƒ¨åˆ†æ˜¯å“ªäº›éƒ¨åˆ†ï¼Ÿæ˜¯å¦æ”¯æŒ CSS3 é‡Œçš„åŠ¨ç”»ï¼Ÿä¸å¾—è€ŒçŸ¥ã€‚



#### ç›®å½•ç»“æ„ï¼š

![mark](http://static.zxinc520.com/blog/20190514/yTqqYeB2UoIS.png?imageslim)



1. `app.js`åšä¸ºå°ç¨‹åºçš„å…¥å£ï¼Œé‡Œé¢æœ‰ä¸ªAppå®ä¾‹ï¼Œæ¯ä¸ªå°ç¨‹åºåªä¼šæœ‰ä¸€ä¸ªAppå®ä¾‹ï¼Œå°ç¨‹åºå¯åŠ¨ä»¥åè§¦å‘onLaunchå‡½æ•°æ‰§è¡Œï¼Œè·å–ç”¨æˆ·ä¿¡æ¯
2. `app.json`æ˜¯å°ç¨‹åºçš„æ‰€æœ‰å…¨å±€é…ç½®ï¼Œ`pages`å­—æ®µæ”¾ç½®æ‰€æœ‰é¡µé¢çš„è·¯å¾„ï¼Œ`window`å­—æ®µå®šä¹‰æ‰€æœ‰é¡µé¢çš„é¡¶éƒ¨èƒŒæ™¯é¢œè‰²ï¼Œæ–‡å­—é¢œè‰² è¯¦ç»†é…ç½®è¯·[æˆ³è¿™é‡ŒğŸ‘‡](https://link.juejin.im?target=https%3A%2F%2Fmp.weixin.qq.com%2Fdebug%2Fwxadoc%2Fdev%2Fframework%2Fconfig.html)
3. `app.wxss`æ–‡ä»¶å°±æ˜¯é¡µé¢å…¬ç”¨çš„æ ·å¼ï¼Œä»…æ”¯æŒéƒ¨åˆ†cssé€‰æ‹©å™¨
4. `wxml`å°±æ˜¯æˆ‘ä»¬çš„HTMLæ–‡ä»¶ï¼Œå¸¸ç”¨æ ‡ç­¾ä¸º `view` ã€`text` ç­‰ï¼Œæ²¡æœ‰æ‰€è°“çš„`div`ã€`span`ã€`p`ä¸€ç±»çš„æ ‡ç­¾äº†ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç§°å®ƒä»¬ä¸ºç»„ä»¶



------



> **è®¾è®¡ç†å¿µï¼š**
>
> å°ç¨‹åºå†…éƒ¨å¯ä»¥ç†è§£æˆä¸€ä¸ªmvvmçš„æ¡†æ¶ï¼Œåˆ†ä¸ºé€»è¾‘å±‚å’Œè§†å›¾å±‚ï¼Œé€»è¾‘å±‚å°†æ•°æ®è¿›è¡Œå¤„ç†åå‘é€ç»™è§†å›¾å±‚ï¼ŒåŒæ—¶æ¥å—è§†å›¾å±‚çš„äº‹ä»¶åé¦ˆã€‚



------

![mark](http://static.zxinc520.com/blog/20190514/U6eXvlL8evmQ.png?imageslim)

![mark](http://static.zxinc520.com/blog/20190514/m4UDxEkFa1ae.png?imageslim)



## å¼€å§‹ä¸Šæ‰‹

> **å¼€å§‹æ­£å¼å­¦ä¹ **
>
> åŸºç¡€å­¦ä¹ éƒ¨åˆ†

### åŠ è½½ä¸€å¼ å›¾ç‰‡

![mark](http://static.zxinc520.com/blog/20190514/GnYuPkAo16G5.png?imageslim)

*ç®€å•ä½¿ç”¨æ ·å¼*ï¼š

![mark](http://static.zxinc520.com/blog/20190514/gvNQzg8BaF74.png?imageslim)



## WXSS

> WXSS (WeiXin Style Sheets)æ˜¯ä¸€å¥—æ ·å¼è¯­è¨€ï¼Œç”¨äºæè¿° WXML çš„ç»„ä»¶æ ·å¼ã€‚
>
> WXSS ç”¨æ¥å†³å®š WXML çš„ç»„ä»¶åº”è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚	[å¯ä»¥å‚è€ƒå®˜ç½‘](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html)

ä¸ºäº†é€‚åº”å¹¿å¤§çš„å‰ç«¯å¼€å‘è€…ï¼ŒWXSS å…·æœ‰ CSS å¤§éƒ¨åˆ†ç‰¹æ€§ã€‚åŒæ—¶ä¸ºäº†æ›´é€‚åˆå¼€å‘å¾®ä¿¡å°ç¨‹åºï¼ŒWXSS å¯¹ CSS è¿›è¡Œäº†æ‰©å……ä»¥åŠä¿®æ”¹ã€‚

ä¸ CSS ç›¸æ¯”ï¼ŒWXSS æ‰©å±•çš„ç‰¹æ€§æœ‰ï¼š

- å°ºå¯¸å•ä½
- æ ·å¼å¯¼å…¥



## å°ºå¯¸å•ä½

â€‹	**rpx**ï¼ˆresponsive pixelï¼‰: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ã€‚è§„å®šå±å¹•å®½ä¸º750rpxã€‚å¦‚åœ¨ iPhone6 ä¸Šï¼Œå±å¹•å®½åº¦ä¸º375pxï¼Œå…±æœ‰750ä¸ªç‰©ç†åƒç´ ï¼Œåˆ™750rpx = 375px = 750ç‰©ç†åƒç´ ï¼Œ1rpx = 0.5px = 1ç‰©ç†åƒç´ 

![mark](http://static.zxinc520.com/blog/20190514/57Wa2m8PEEyp.png?imageslim)

**å»ºè®®ï¼š** å¼€å‘å¾®ä¿¡å°ç¨‹åºæ—¶è®¾è®¡å¸ˆå¯ä»¥ç”¨ iPhone6 ä½œä¸ºè§†è§‰ç¨¿çš„æ ‡å‡†ã€‚

**æ³¨æ„ï¼š** åœ¨è¾ƒå°çš„å±å¹•ä¸Šä¸å¯é¿å…çš„ä¼šæœ‰ä¸€äº›æ¯›åˆºï¼Œè¯·åœ¨å¼€å‘æ—¶å°½é‡é¿å…è¿™ç§æƒ…å†µã€‚



## å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼

å®šä¹‰åœ¨ app.wxss ä¸­çš„æ ·å¼ä¸ºå…¨å±€æ ·å¼ï¼Œä½œç”¨äºæ¯ä¸€ä¸ªé¡µé¢ã€‚åœ¨ page çš„ wxss æ–‡ä»¶ä¸­å®šä¹‰çš„æ ·å¼ä¸ºå±€éƒ¨æ ·å¼ï¼Œåªä½œç”¨åœ¨å¯¹åº”çš„é¡µé¢ï¼Œå¹¶ä¼šè¦†ç›– app.wxss ä¸­ç›¸åŒçš„é€‰æ‹©å™¨ã€‚

 

## å¼€å‘è€…æ–‡æ¡£

> [å¼€å‘è€…æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/component/image.html)
>
> **ä¸ä¼š** æˆ– **å¿˜äº†** å°±æŸ¥æ–‡æ¡£ï¼

### image:

â€‹	**è§£å†³å›¾ç‰‡ç¼©æ”¾é—®é¢˜ï¼š**

- mode ï¼ˆ å¸¸ç”¨ä¸‹é¢2ä¸ªå±æ€§å€¼ç¼©æ”¾å›¾ç‰‡ ï¼‰
  - aspectFitï¼šç¼©æ”¾æ¨¡å¼ï¼Œä¿æŒçºµæ¨ªæ¯”ç¼©æ”¾å›¾ç‰‡ï¼Œä½¿å›¾ç‰‡çš„é•¿è¾¹èƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å®Œæ•´åœ°å°†å›¾ç‰‡æ˜¾ç¤ºå‡ºæ¥ã€‚
  - aspectFillï¼šç¼©æ”¾æ¨¡å¼ï¼Œä¿æŒçºµæ¨ªæ¯”ç¼©æ”¾å›¾ç‰‡ï¼Œåªä¿è¯å›¾ç‰‡çš„çŸ­è¾¹èƒ½å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå›¾ç‰‡é€šå¸¸åªåœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘æ˜¯å®Œæ•´çš„ï¼Œå¦ä¸€ä¸ªæ–¹å‘å°†ä¼šå‘ç”Ÿæˆªå–ã€‚

![mark](http://static.zxinc520.com/blog/20190520/XC3RPCh4fJdY.png?imageslim)



### swiper

> [çœ‹å¼€å‘è€…æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/component/swiper.html)
>
> è½®æ’­ç»„ä»¶ï¼šè°ƒç”¨ç›¸åº”çš„æ ‡ç­¾åŠå‚æ•°è®¾ç½®

![mark](http://static.zxinc520.com/blog/20190520/PgOdEdCQrqvp.gif)



## è§£è¯» app.json

> å°ç¨‹åºæ ¹ç›®å½•ä¸‹çš„ `app.json` æ–‡ä»¶ç”¨æ¥å¯¹å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå…¨å±€é…ç½®ã€‚æ–‡ä»¶å†…å®¹ä¸ºä¸€ä¸ª JSON å¯¹è±¡ï¼Œæœ‰ä»¥ä¸‹å±æ€§ï¼š
>
> [å¯ä»¥å‚è€ƒå®˜ç½‘](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html)



### pages

> ç”¨äºæŒ‡å®šå°ç¨‹åºç”±å“ªäº›é¡µé¢ç»„æˆï¼Œæ¯ä¸€é¡¹éƒ½å¯¹åº”ä¸€ä¸ªé¡µé¢çš„ è·¯å¾„ï¼ˆå«æ–‡ä»¶åï¼‰ ä¿¡æ¯ã€‚æ–‡ä»¶åä¸éœ€è¦å†™æ–‡ä»¶åç¼€ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å»å¯»æ‰¾å¯¹äºä½ç½®çš„ `.json`, `.js`, `.wxml`, `.wxss` å››ä¸ªæ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚



### window

> ç”¨äºè®¾ç½®å°ç¨‹åºçš„çŠ¶æ€æ ã€å¯¼èˆªæ¡ã€æ ‡é¢˜ã€çª—å£èƒŒæ™¯è‰²ã€‚

ä¾‹å¦‚ï¼š

```js
{
  "window": {
    "navigationBarBackgroundColor": "#ffffff",
    "navigationBarTextStyle": "black",
    "navigationBarTitleText": "å¾®ä¿¡æ¥å£åŠŸèƒ½æ¼”ç¤º",
    "backgroundColor": "#eeeeee",
    "backgroundTextStyle": "light"
  }
}
```



### tabBar

> å¦‚æœå°ç¨‹åºæ˜¯ä¸€ä¸ªå¤š tab åº”ç”¨ï¼ˆå®¢æˆ·ç«¯çª—å£çš„åº•éƒ¨æˆ–é¡¶éƒ¨æœ‰ tab æ å¯ä»¥åˆ‡æ¢é¡µé¢ï¼‰ï¼Œå¯ä»¥é€šè¿‡ tabBar é…ç½®é¡¹æŒ‡å®š tab æ çš„è¡¨ç°ï¼Œä»¥åŠ tab åˆ‡æ¢æ—¶æ˜¾ç¤ºçš„å¯¹åº”é¡µé¢ã€‚

```js
 "tabBar": {
    "color": "#333",
    "selectedColor": "#f30",
    "list": [{
      "pagePath": "pages/index/index",
      "text": "é¦–é¡µ",
      "iconPath": "assets/tabs/icon1.png",
      "selectedIconPath": "assets/tabs/icon1.png"
    },
    {
      "pagePath": "pages/message/message",
      "text": "æ¶ˆæ¯",
      "iconPath": "assets/tabs/icon1.png",
      "selectedIconPath": "assets/tabs/icon1.png"
    },
    {
      "pagePath": "pages/index/index",
      "text": "ä¸ªäººä¸­å¿ƒ",
      "iconPath": "assets/tabs/icon1.png",
      "selectedIconPath": "assets/tabs/icon1.png"
    },
    {
      "pagePath": "pages/index/index",
      "text": "ç»¼åˆ",
      "iconPath": "assets/tabs/icon1.png",
      "selectedIconPath": "assets/tabs/icon1.png"
    }]
  }
```

![mark](http://static.zxinc520.com/blog/20190521/OCDT2PNCaB4Y.png?imageslim)

*ç­‰ç­‰ç­‰... ä¸äº†è§£å°±çœ‹æ–‡æ¡£ï¼*

**æ³¨æ„ï¼š æ‰€ä»¥çœ‹å¼€å‘è€…æ–‡æ¡£å¾ˆé‡è¦ï¼** 

[ç‚¹ä¸€ä¸‹å°±å¯ä»¥çœ‹äº†ï¼Œåˆ«æ‡’ï¼](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html)



## app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°

> app.js å…¨å±€ç”Ÿå‘½å‘¨æœŸå‡½æ•°

*åœ¨app.jsæ–‡ä»¶ä¸­* ï¼Œ å®šä¹‰äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³• ï¼Œ onLaunchï¼ŒonShowï¼ŒonHideï¼ŒonErrorï¼Œä»¥åŠä»»æ„å¼€å‘è€…æ·»åŠ çš„å‡½æ•°æˆ–è€…æ•°æ®ï¼ˆé€šè¿‡thiså¯ä»¥è®¿é—®ï¼‰

**ä»¥ä¸‹æ˜¯å„ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä½œç”¨å’Œæè¿°ï¼š**

1. **onLaunch ç”Ÿå‘½å‘¨æœŸå‡½æ•°** --ç›‘å¬å°ç¨‹åºåˆå§‹åŒ– å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰
2. **onShow ç”Ÿå‘½å‘¨æœŸå‡½æ•°**--ç›‘å¬å°ç¨‹åºæ˜¾ç¤º å½“å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºï¼Œä¼šè§¦å‘ onShow
3. **onHide ç”Ÿå‘½å‘¨æœŸå‡½æ•°**--ç›‘å¬å°ç¨‹åºéšè— å½“å°ç¨‹åºä»å‰å°è¿›å…¥åå°ï¼Œä¼šè§¦å‘ onHide
4. **onError é”™è¯¯ç›‘å¬å‡½æ•°** å½“å°ç¨‹åºå‘ç”Ÿè„šæœ¬é”™è¯¯ï¼Œæˆ–è€… api è°ƒç”¨å¤±è´¥æ—¶ï¼Œä¼šè§¦å‘ onError å¹¶å¸¦ä¸Šé”™è¯¯ä¿¡æ¯

å…¶ä»– Any å¼€å‘è€…å¯ä»¥æ·»åŠ ä»»æ„çš„å‡½æ•°æˆ–æ•°æ®åˆ° Object å‚æ•°ä¸­ï¼Œç”¨ this å¯ä»¥è®¿é—®

*index.js:* ï¼ˆä¸ªäººæ„Ÿè§‰ å’Œ **Vue** çœŸçš„å¥½åƒï¼Œå¦‚æœç†Ÿæ‚‰Vueçš„è¯ï¼Œè¿™ç†è§£èµ·æ¥åº”è¯¥æ²¡æœ‰éš¾åº¦ã€‚ï¼‰

```js
//index.js
//è·å–åº”ç”¨å®ä¾‹
const app = getApp()

Page({
  data: {
    motto: 'Hello World',
    listarr:0,
  },
//ç›‘å¬å°ç¨‹åºåˆå§‹åŒ– å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰
  onLoad: function (option) {
    wx.request({
      url: 'https://www.baifubao.com/callback',
      success: (res)=>{
        this.setData({
          listarr: res.statusCode
        })
      },
    })
  }
})
```

**æ³¨æ„ï¼šç€é‡å…³æ³¨ onLoad å‡½æ•°ï¼Œå› ä¸ºä½¿ç”¨æœ€é¢‘ç¹ï¼**



## WXML æ•°æ®ç»‘å®š

> WXML ä¸­çš„åŠ¨æ€æ•°æ®å‡æ¥è‡ªå¯¹åº” Page çš„ dataã€‚

### å†…å®¹

```html
<view>{{ message }}</view>
```

```js
Page({
  data: {
    message: 'Hello World!'
  }
})
```

![mark](http://static.zxinc520.com/blog/20190526/Dr9a1AITnQo7.png?imageslim)

#### ç‰¹åˆ«æ³¨æ„ï¼š

1. èŠ±æ‹¬å·å’Œå¼•å·ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼
2. ä¸èƒ½ç›´æ¥å†™ checked=â€œfalseâ€ï¼Œå…¶è®¡ç®—ç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè½¬æˆ boolean ç±»å‹åè½¬ä¸ºçœŸå€¼ã€‚



## é€šè¿‡ wx.request è¯·æ±‚æ•°æ®

> é€šè¿‡ wx.request è¯·æ±‚æ•°æ®

```js
  wx.request({
      url: '',
      data: '',
      header: {},
      method: 'GET',
      dataType: 'json',
      responseType: 'text',
      success: function(res) {
          console.log(res)
      },
      fail: function(res) {},
      complete: function(res) {},
    })
```

![mark](http://static.zxinc520.com/blog/20190527/x00Ledvp9GT7.png?imageslim)



**setData**ï¼šæ¥å— <u>wx.request</u> è¯·æ±‚çš„æ•°æ®ï¼Œèµ‹å€¼ç»™ Pageé‡Œé¢çš„dataï¼ˆç„¶åé€šè¿‡æ’å€¼è¡¨è¾¾å¼æ¸²æŸ“åˆ°é¡µé¢ï¼‰

```js
//index.js
//è·å–åº”ç”¨å®ä¾‹
const app = getApp()

Page({
  data: {
    motto: 'Hello World',
    listarr:0,
  },
  onLoad: function (option) {
    wx.request({
      url: 'https://www.baifubao.com/callback',
      success: (res)=>{
        console.log(res)
        
        this.setData({
          listarr: res.statusCode
        })

      },
    })
}})
```



## å¾®ä¿¡å°ç¨‹åºé‡Œåˆ—è¡¨æ¸²æŸ“

> ### wx:for
>
> åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ `wx:for` æ§åˆ¶å±æ€§ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå³å¯ä½¿ç”¨æ•°ç»„ä¸­å„é¡¹çš„æ•°æ®é‡å¤æ¸²æŸ“è¯¥ç»„ä»¶ã€‚
>
> é»˜è®¤æ•°ç»„çš„å½“å‰é¡¹çš„ä¸‹æ ‡å˜é‡åé»˜è®¤ä¸º `index`ï¼Œæ•°ç»„å½“å‰é¡¹çš„å˜é‡åé»˜è®¤ä¸º `item`



*ç±»æ¯”äº Vueï¼š*  

```html
<ul id="example-1">
  <li v-for="item in items">
    {{ item.message }}
  </li>
</ul>
```

*å¾®ä¿¡å°ç¨‹åºé‡Œé¢ï¼š*

```js
<view wx:for="{{array}}">{{index}}: {{item.message}}</view>
```

```js
Page({
  data: {
    array: [{
      message: 'foo',
    }, {
      message: 'bar'
    }]
  }
})
```

#### wx:key  

â€‹	[å¯ä»¥å‚è€ƒ](https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/list.html)

å¦‚æœåˆ—è¡¨ä¸­é¡¹ç›®çš„ä½ç½®ä¼šåŠ¨æ€æ”¹å˜æˆ–è€…æœ‰æ–°çš„é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¸Œæœ›åˆ—è¡¨ä¸­çš„é¡¹ç›®ä¿æŒè‡ªå·±çš„ç‰¹å¾å’ŒçŠ¶æ€ï¼ˆå¦‚ [``](https://developers.weixin.qq.com/miniprogram/dev/component/input.html) ä¸­çš„è¾“å…¥å†…å®¹ï¼Œ[``](https://developers.weixin.qq.com/miniprogram/dev/component/switch.html)çš„é€‰ä¸­çŠ¶æ€ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ `wx:key` æ¥æŒ‡å®šåˆ—è¡¨ä¸­é¡¹ç›®çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚

1. å­—ç¬¦ä¸²ï¼Œä»£è¡¨åœ¨ for å¾ªç¯çš„ array ä¸­ item çš„æŸä¸ª propertyï¼Œè¯¥ property çš„å€¼éœ€è¦æ˜¯åˆ—è¡¨ä¸­å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸”ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚
2. ä¿ç•™å…³é”®å­— `*this` ä»£è¡¨åœ¨ for å¾ªç¯ä¸­çš„ item æœ¬èº«ï¼Œè¿™ç§è¡¨ç¤ºéœ€è¦ item æœ¬èº«æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œå¦‚ï¼š

å½“æ•°æ®æ”¹å˜è§¦å‘æ¸²æŸ“å±‚é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæ ¡æ­£å¸¦æœ‰ key çš„ç»„ä»¶ï¼Œæ¡†æ¶ä¼šç¡®ä¿ä»–ä»¬è¢«é‡æ–°æ’åºï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºï¼Œä»¥ç¡®ä¿ä½¿ç»„ä»¶ä¿æŒè‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶ä¸”æé«˜åˆ—è¡¨æ¸²æŸ“æ—¶çš„æ•ˆç‡ã€‚

**å¦‚ä¸æä¾› wx:keyï¼Œä¼šæŠ¥ä¸€ä¸ª warningï¼Œ å¦‚æœæ˜ç¡®çŸ¥é“è¯¥åˆ—è¡¨æ˜¯é™æ€ï¼Œæˆ–è€…ä¸å¿…å…³æ³¨å…¶é¡ºåºï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥ã€‚**

```html
<switch wx:for="{{objectArray}}" wx:key="unique" style="display: block;">
  {{item.id}}
</switch>
<button bindtap="switch">Switch</button>
<button bindtap="addToFront">Add to the front</button>

<switch wx:for="{{numberArray}}" wx:key="*this" style="display: block;">
  {{item}}
</switch>
<button bindtap="addNumberToFront">Add to the front</button>
```

```js
Page({
  data: {
    objectArray: [
      {id: 5, unique: 'unique_5'},
      {id: 4, unique: 'unique_4'},
      {id: 3, unique: 'unique_3'},
      {id: 2, unique: 'unique_2'},
      {id: 1, unique: 'unique_1'},
      {id: 0, unique: 'unique_0'},
    ],
    numberArray: [1, 2, 3, 4]
  }
})
```



## é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°

> é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆ**ä¸‹æ‹‰åˆ·æ–°**ï¼Œ**æ»‘åˆ°åº•éƒ¨åŠ è½½æ›´å¤š**ç­‰ï¼‰
>
> [å¯ä»¥å‚è€ƒ](https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.startPullDownRefresh.html)

**ä¸‹æ‹‰äº‹ä»¶å’Œè§¦åº•äº‹ä»¶**ï¼š

```js
 //é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°---ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ
    onPullDownRefresh:function(){
      console.log('ä¸‹æ‹‰ï¼')
    },
    //é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°
    onReachBottom:function(){
      console.log('ä¸Šæ‹‰')
    }
```



## å¯¼èˆªæ 

> [å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.showNavigationBarLoading.html)
>
> jsæ–‡ä»¶

|                  å‡½æ•°API                   |             åŠŸèƒ½             |
| :----------------------------------------: | :--------------------------: |
| wx.showNavigationBarLoading(Object object) | åœ¨å½“å‰é¡µé¢æ˜¾ç¤ºå¯¼èˆªæ¡åŠ è½½åŠ¨ç”» |
|  wx.setNavigationBarTitle(Object object)   |    åŠ¨æ€è®¾ç½®å½“å‰é¡µé¢çš„æ ‡é¢˜    |
|  wx.setNavigationBarColor(Object object)   |      è®¾ç½®é¡µé¢å¯¼èˆªæ¡é¢œè‰²      |
| wx.hideNavigationBarLoading(Object object) | åœ¨å½“å‰é¡µé¢éšè—å¯¼èˆªæ¡åŠ è½½åŠ¨ç”» |

![mark](http://static.zxinc520.com/blog/20190603/DXIDRjESGUHv.gif)



## ç•Œé¢äº¤äº’

> [å‚è€ƒå®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html)

#### ç¤ºä¾‹ä»£ç   

```js
wx.showToast({
  title: 'æˆåŠŸw',
  icon: 'success',
  duration: 2000
})
```

![mark](http://static.zxinc520.com/blog/20190603/fRajsw7UWlQc.gif)





## ä¸‹æ‹‰åˆ·æ–°

> ä¸‹æ‹‰åˆ·æ–°( **é…åˆ** é¡µé¢*ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°*---ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ)

**index.json:**

```js
{
  "enablePullDownRefresh": true,
  "backgroundTextStyle": "dark"
}
```

**index.js:**

```js
   //é¡µé¢ç›¸å…³äº‹ä»¶å¤„ç†å‡½æ•°---ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ
    onPullDownRefresh:function(){
      console.log('ä¸‹æ‹‰ï¼')
    },
```

![mark](http://static.zxinc520.com/blog/20190603/bHEJTM3fLLsC.gif)
